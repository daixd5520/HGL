util.py：新增一组洛伦兹几何算子（expmap0 / logmap0 / recompute_time），供 LoRA 使用。

GNN_model.py：把现有的 LoRA 从欧氏 nn.Sequential(A,B)改成双曲 LoRA版，新增 HyperbolicLoRA 并用开关启用（保持向后兼容）。当前欧氏 LoRA 注入位置：GATConv_lora 里用 self.lin_src = nn.Sequential(self.lin_src_a, self.lin_src_b)（低秩 AB），并在 reset_parameters_lora 用 Kaiming + Zero init（就是标准 LoRA 初始化） 。

GraphLoRA.py：在 transfer() 里实例化 GNNLoRA 时把新开关与超参数传下去（你现在在这里构造 gnn2 = GNNLoRA(..., r=args.r)）。

main.py：加 3 个命令行参数（是否启用双曲 LoRA、曲率 c、LoRA 的 alpha 缩放），并自然透传（现在已经把 r/tau/sup_weight 这样传下去了）。

//（need?）把 Projector 也换成双曲 Projector，默认先不开，先把 LoRA 路径双曲化；Projector 现在是纯线性层（欧氏）。

要用俩GPU，不然报device assersion USE_DSA啥的错误

python main.py --is_transfer True

python main.py --is_transfer True --hyperbolic_lora True
250909

250909

“全双曲主干 + 全双曲 LoRA + 超曲融合”；目前分类头还不是超曲

python main.py --is_pretrain True --is_transfer False


python main.py --is_transfer True --pretrained_model_name /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/PubMed.GRACE.GAT.hyp_True.True.20250911-161024.pth --lora_alpha 32 --r 16

python main.py --is_transfer True --test_dataset PubMed --pretrained_model_name /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/PubMed.GRACE.GAT.hyp_True.True.20250911-161024.pth  --few True --shot 5

python main.py --is_transfer True --test_dataset Computers --pretrained_model_name /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/PubMed.GRACE.GAT.hyp_True.True.20250911-161024.pth --few True --shot 10


 python main.py --is_pretrain True --is_transfer False --pretrain_dataset CiteSeer

python main.py --is_pretrain True --is_transfer False --pretrain_dataset Cora

python main.py --is_pretrain True --is_transfer False --pretrain_dataset Photo

python main.py --is_pretrain True --is_transfer False --pretrain_dataset Computer


bash shell.sh


grep "Best @ epoch.*val=.*test=" /mnt/data1/Graph/HypGraphLoRA/result/GraphLoRA.txt > /mnt/data1/Graph/HypGraphLoRA/result/best_epoch_results.txt

bash run5.sh python main.py --is_transfer True --pretrained_model_name /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/PubMed.GRACE.GAT.hyp_True.True.20250911-161024.pth --lora_alpha 32 --r 16

----------------------这个能够生成表格
python exp_multicard.py \
--models /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/PubMed.GRACE.GAT.hyp_True.True.20250911-161024.pth \
--tests PubMed Cora Photo \
--runs 5 \
--gpus 5

----------------------这个能够生成表格,指定shot
python exp_multicard.py \
--models /mnt/data1/Graph/HypGraphLoRA/pre_trained_gnn/Computers.GRACE.GAT.hyp_True.True.20250912-232538.pth \
--tests CiteSeer \
--runs 5 \
--shots 10 \
--gpus 5